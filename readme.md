#### テーブルを集約して検索

- COUNT関数は引数によって動作が異なる。COUNT(\*)はNULLを含む行数を、COUNT(<列名>)はNULLを除外した行数を数える。

- 集約カンスはNULLを除外する。ただし、「COUNT(\*)」は例外的NULLを除外しない。

- MAX/MIN関数は殆ど全てのデータ型に適用できる。SUM/AVG関数は数値のみにしか使えない。

- 値の種類を数えたいときは、COUNT関数の引数にDISTINCTをつける。

- 重複値を除外して集約するには、集約関数の引数にDISTINCTをつける。


#### テーブルをグループに切り分ける

- 集約関数とGROUP BY句を使うときには、次の4つに注意する必要がある。
    1. SELECT句に書けるものが限定される
        > 定数、集約関数、GROUP BY句で指定した列名(つまり集約キー)

    2. GROUP BY句にはSELECT句で付けた列の別名は使えない
    3. GROUP BY句は集約結果をソートしない
    4. WHERE句に集約関数を書くことはできない

- GROUP BY句はテーブルをカットするナイフである。

- SQLにおいて句の記述順は不変。入れ替えは付加！
    1. 句の記述順序(暫定版)
        > SELECT -> FROM -> WHERE -> GROUP BY

- 集約キーにNULLが含まれる場合、結果にも「不明」行(空行)として現れる。

- HAVING句を使用するときの順序
    > SELECT -> FROM -> WHERE -> GROUP BY -> HAVING
- WHERE句とHAVING句の役割の違い
    > WHERE句=行に対する条件指定
    > HAVING句=グループに対する条件指定
    > 実行速度がWHERE句の方が早い
